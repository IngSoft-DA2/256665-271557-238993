<h1>Welcome to your Report By Building</h1>

<div class="container">
    <div class="mt-3">
        <label class="form-label">Select a building to filter by</label>
        <br>
        <select class = "form-select" name="buildingSelected" (change)="onChange($event)">
            <option value="default" selected disabled>Select a building</option>   
            <option *ngFor="let building of buildings" [value]="building.id">{{ building.name }}</option>
        </select>
    </div>

    <ng-container *ngIf="reportOfMaintenanceRequestsByBuilding; else NoData">    
        <table class="table table-bordered mt-3">
            <thead>
                <tr>
                    <th>Building</th>
                    <th>Opened Requests</th>
                    <th>Closed Requests</th>
                    <th>On Attendance Requests</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let nodeOfReport of reportOfMaintenanceRequestsByBuilding">
                    <td>{{ getBuildingName(nodeOfReport.buildingId)}}</td>
                    <td>{{ nodeOfReport.openRequests }}</td>
                    <td>{{ nodeOfReport.closedRequests }}</td>
                    <td>{{ nodeOfReport.onAttendanceRequests }}</td>
                </tr>
            </tbody>
        </table>
    </ng-container>
</div>

<ng-template #NoData>
    <div class="alert alert-warning">
        <h4>There is no data</h4>
    </div>
</ng-template>
